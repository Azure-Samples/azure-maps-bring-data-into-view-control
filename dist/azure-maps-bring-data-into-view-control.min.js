/*
azure-maps-bring-data-into-view-control Version: 0.0.3

MIT License - Copyright (c) Microsoft Corporation.
*/


!function(e,m){"use strict";var i=function(){return(i=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var o in t=arguments[a])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},t=(a.merge=function(e,t){for(var a=window||global,n=0,o=e.split(".");n<o.length;n++){var r=o[n];if(!a[r])return t;a=a[r]}return i(i({},a),t)},a);function a(){}var n=(r.prototype.onAdd=function(g,e){var c=this,p=c._options;c._map=g;var t=r._getAriaLabel(g.getStyle().language),a=document.createElement("style");a.innerHTML=c._buttonCSS,document.body.appendChild(a);var n=document.createElement("div");n.classList.add("azure-maps-control-container"),n.setAttribute("aria-label",t),n.style.flexDirection="column",c._container=n;var o=document.createElement("button");return o.classList.add("azmaps-bringDataIntoViewBtn"),o.setAttribute("title",t),o.setAttribute("alt",t),o.setAttribute("type","button"),c._button=o,c._setStyle(p.style),o.addEventListener("click",function(){var e=m.data.BoundingBox,t=[];g.sources.getSources().forEach(function(e){e instanceof m.source.DataSource&&(!p.sources||-1<p.sources.indexOf(e.getId()))&&(t=t.concat(e.toJson().features))});var a=null;if(0<t.length&&(a=e.fromData(t)),p.includeMarkers){for(var n=[],o=0,r=g.markers.getMarkers();o<r.length;o++){var i=r[o];n.push(i.getOptions().position)}if(0<n.length){var s=e.fromPositions(n);a=null===a?s:e.merge(a,s)}}if(p.includeImageLayers)for(var l=g.layers.getLayers(),A=0;A<l.length;A++)l[A]instanceof m.layer.ImageLayer&&(s=e.fromPositions(l[A].getOptions().coordinates),a=null===a?s:e.merge(a,s));if(null!==a){var d=e.getWidth(a),u=e.getHeight(a);d<1e-5&&u<1e-5?g.setCamera({center:e.getCenter(a),zoom:17}):g.setCamera({bounds:a,padding:c._options.padding})}}),n.appendChild(o),n},r.prototype.onRemove=function(){var e=this;e._container&&(e._container.remove(),e._container=null),"auto"===e._options.style&&e._map.events.remove("styledata",e._mapStyleChanged),e._map=null},r.prototype.setOptions=function(e){if(e){var t=this._options;if("number"==typeof e.padding&&0<=e.padding&&(t.padding=e.padding),"boolean"==typeof e.includeImageLayers&&(t.includeImageLayers=e.includeImageLayers),"boolean"==typeof e.includeMarkers&&(t.includeMarkers=e.includeMarkers),e.style&&this._setStyle(e.style),void 0!==e.sources)if(null===e.sources||0===e.sources.length)t.sources=null;else{var a=[];e.sources.forEach(function(e){a.push(e instanceof m.source.DataSource?e.getId():e)}),t.sources=a}}},r.prototype._setStyle=function(e){var t=this,a=t._map;"auto"===t._options.style&&a&&a.events.remove("styledata",t._mapStyleChanged);var n="light";t._hclStyle?"dark"===t._hclStyle&&(n=t._darkColor):n=e,"light"===n?n="white":"dark"===n?n=t._darkColor:"auto"===n&&(a&&a.events.add("styledata",t._mapStyleChanged),n=t._getColorFromMapStyle()),t._options.style=e,t._button&&(t._button.style.backgroundColor=n)},r.prototype._getColorFromMapStyle=function(){return-1<["satellite","satellite_road_labels","grayscale_dark","night"].indexOf(this._map.getStyle().style)?this._darkColor:"white"},r._getAriaLabel=function(e){e&&0<e.indexOf("-")&&(e=e.substring(0,e.indexOf("-")));var t={af:"Bring data in die oog",ar:"جلب البيانات في الرأي",eu:"Ekarri datuak ikusteko",bg:"Привеждане на данните в изглед",zh:"将数据带入视图",hr:"Donesite podatke u prikaz",cs:"Přenést data do zobrazení",da:"Få vist data i visningen",nl:"Gegevens in beeld brengen",et:"Andmete vaatamine",fi:"Tuo tiedot näkymään",fr:"Mettre les données en vue",gl:"Fai ver os datos",de:"Daten in den Blick bringen",el:"Εισαγωγή δεδομένων σε προβολή",hi:"डेटा को दृश्य में लाएं",hu:"Adatok áthozása a nézetbe",id:"Bawa data ke tampilan",it:"Portare i dati in vista",ja:"データをビューに取り込む",kk:"Деректерді көрініске енгізіңіз",ko:"데이터를 뷰로 가져오기",es:"Lleve los datos a la vista",lv:"Datu skatīšana skatā",lt:"Atvesti duomenis į rodinį",ms:"Membawa data ke dalam paparan",nb:"Hent data til visning",pl:"Przynieś dane do widoku",pt:"Colocar os dados em exibição",ro:"Aducerea datelor în vizualizare",ru:"Перенесите данные в представление",sr:"Uskladi podatke u prikaz",sk:"Preniesť údaje do zobrazenia",sl:"Prinesite podatke v pogled",sv:"Ta fram data i vyn",th:"นำข้อมูลมาไว้ในมุมมอง",tr:"Verileri görünüme getirme",uk:"Приведення даних у режим перегляду",vi:"Mang dữ liệu vào chế độ xem",en:"Bring data into view"},a=t[e.toLowerCase()];return a||t.en},r);function r(e){var t=this;this._darkColor="#011c2c",this._hclStyle=null,this._options={style:"light",padding:100,includeImageLayers:!0,includeMarkers:!0,sources:null},this._buttonCSS=".azmaps-bringDataIntoViewBtn{margin:0;padding:0;border:none;border-collapse:collapse;width:32px;height:32px;text-align:center;cursor:pointer;line-height:32px;background-repeat:no-repeat;background-size:20px;background-position:center center;z-index:200;box-shadow:0px 0px 4px rgba(0,0,0,0.16);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAB3RJTUUH4wMIFTgXULHJFAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAhUlEQVRo3u3asQ2AIBAF0MO4p42FI1nYOKlugAUnJvL+BLzwcxGw7Md5RUO2dSmRkNZ1TPGTgICADAIptbGXNVqzUluraoGADAKZv/rIy56UqvVFartVVEu1QEBAQEBAQEBAQEAaz+xuGlXrpWr1PlvbERAQEJCIhzfEnqPYLxwgICBjQW7ewSYPr/zk7gAAAABJRU5ErkJggg==);}.azmaps-bringDataIntoViewBtn:hover{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAB3RJTUUH4wMIFTcYR5bISgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABDklEQVRo3u2aMQ+CMBSE7wjGwURXd1cHhb8Cv1L/ikDi7Goc1UESElMXN0UiLaToXcIEbe57vFd4TbneZnsAS7RUnkSEA623mbEZH9hA+KQAPyKBDAXEeOz5rbew5mECWAA4NUxKZ+6MGZMcNQRxDuDwDQgAlHkS3foKc5HGFYCqYYkuVewCEcifg4QWP3mzDr43zJPo0isIgHNHwWWbe8GHIaVv6ZMn0fHp+eWiRWqZjszyr4tdIAIRiEAEIhCBCEQgAhHI8Hr2ugbJGDMr0vjqk9nVZjclefnqjZCc+Bb1T55Cy7md76K0Tq2+e2sVu0AEIpDOQO4e+q31RBdbny6WYhdHOFQjAhGIQIajB80LO3KY+u0wAAAAAElFTkSuQmCC);}",this._mapStyleChanged=function(){t._button&&!t._hclStyle&&(t._button.style.backgroundColor=t._getColorFromMapStyle())},this.setOptions(e)}var o=Object.freeze({__proto__:null,BringDataIntoViewControl:n}),s=t.merge("atlas.control",o);e.control=s}(this.atlas=this.atlas||{},atlas);
